<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>轮播</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <div class='banner_box' id="banner_box">
        <div class="images_box" id="images_box">
            <img src="./images/timg-1.jpg" alt="">
            <img src="./images/timg-2.jpg" alt="">
            <img src="./images/timg-3.jpg" alt="">
        </div>
    </div>
    <div class="button_box" id="button_box">
        <button>第一张</button>
        <button>第二张</button>
        <button>第三张</button>
    </div>
</body>
<script>
    var button_arr = $('#button_box > button')
    for(let i=0;i<button_arr.length;i++){
    $(button_arr[i]).on('click',function(x){
        let index = $(x.currentTarget).index()
        let n = index * -1200
        $('#images_box img').css({
            transform:'translate('+n+'px)'
        })
        button_arr.eq(index).addClass('red').siblings('.red').removeClass('red')
    })
}
var n = 0
var b = button_arr.length
var IntervalID = xxx()
function xxx(){
    return setInterval(()=>{
    button_arr.eq(n%b).trigger('click')
    n+=1
},1000)
}
$('#images_box').on('mouseenter',function(){
    console.log('hi')
    clearInterval(IntervalID)
})
$('#images_box').on('mouseleave',function(){
    IntervalID = xxx()
})
</script>
</html>